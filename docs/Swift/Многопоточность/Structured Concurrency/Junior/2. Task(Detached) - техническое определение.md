
---

> **–ò–∑—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —è–∑—ã–∫–∞ Swift.**
*–î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Å–≤–æ–µ–Ω–∏—è —ç—Ç–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –±–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —è–∑—ã–∫–∞ Swift. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∑–Ω–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö, –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, —Ü–∏–∫–ª–æ–≤, —Ñ—É–Ω–∫—Ü–∏–π, –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏ –¥—Ä—É–≥–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —è–∑—ã–∫–∞. –ë–µ–∑ —ç—Ç–∏—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å—Å—è –≤ –¥–∞–Ω–Ω–æ–º –±–ª–æ–∫–µ.*
> 

---
–ú—ã —É–∂–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –∑–∞–¥–∞—á, –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ–Ω–∏–º–∞–µ–º —á–µ–º –∏ –∫–∞–∫ –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è, —Ç–µ–ø–µ—Ä—å –Ω–∞—á–Ω–µ–º –ø–æ–≥—Ä—É–∂–∞—Ç—å—Å—è —É–∂–µ –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏ –±—É–¥–µ–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏–∑—É—á–∞—Ç—å Task.
## –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
> ***–î–ª—è —Ç–µ—Ö, –∫—Ç–æ –∑–Ω–∞–∫–æ–º —Å GCD:***
–ù–µ —Å—Ç–æ–∏—Ç –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∫–∞–∫ –∞–Ω–∞–ª–æ–≥ DispatchQueue.global().async - —ç—Ç–æ —Å–æ–≤—Å–µ–º –Ω–µ —Ç–∞–∫.  –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å —Ä–∞–±–æ—Ç—ã –Ω–∞ –±–µ–∫–≥—Ä–∞—É–Ω–¥ –ø–æ—Ç–æ–∫ - –∑–¥–µ—Å—å –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –±–µ–∫–≥—Ä–∞—É–Ω–¥ –ø–æ—Ç–æ–∫, –ø–æ—ç—Ç–æ–º—É –∏–Ω–æ–≥–¥–∞ —Ç—è–∂—ë–ª—ã–µ –∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ñ—Ä–∏–∑–∞–º.
> 

**–í Structured Concurrency e—Å—Ç—å 2 —Å–ø–æ—Å–æ–±–∞ —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É:**

### **1. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π(Detached) —Ç–∞—Å–∫–∏.**
```swift
/// –°–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–¥–∞—á–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –∏–∑ —Ç–µ–∫—É—â–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∑–∞–¥–∞—á,
/// –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –∑–∞–¥–∞—á—É (–æ—Ç–º–µ–Ω—É, –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ) –±—É–¥–µ—Ç –ª–µ–∂–∞—Ç—å –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–µ
/// - Parameters:
///   - priority: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–¥–∞—á–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - medium
///   - operation: –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ç–∞—Å–∫–µ
Task.detached(priority: TaskPriority?, operation: () async -> _)
```

**–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä:** 

–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
```swift
final class ViewController: UIViewController {
   
   @objc
   private func handleTapOnButton(_ sender: UIButton) {
      /// –ó–¥–µ—Å—å –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º—ã –º–æ–∂–µ–º –Ω–∞–ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏–Ω–Ω–µ—Ä
      showLoadingIndicator()
      /// –ó–¥–µ—Å—å –≤—Å—ë —Ç–∞–∫–∂–µ –≥–ª–∞–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –∏ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å–∫–∞—á–∏–≤–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É
      fetchImage(by: 1)	
   }
   
   func fetchImage(by id: Int) {
   	   /// –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∑–∞–¥–∞—á–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–π—Ç–∏
   	   /// —Å –≥–ª–∞–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –Ω–∞ –ì–ª–æ–±–∞–ª—å–Ω—ã–π, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –µ–≥–æ
   	   let task = Task.detached { 
   	   /// –í–Ω—É—Ç—Ä–∏ —É–∂–µ –±—É–¥–µ—Ç –Ω–µ –≥–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å - –∞ –¥—Ä—É–≥–æ–π
       }
   }
}
```
### **2. –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–π –∑–∞–¥–∞—á–∏. Task.**
```swift
/// –°–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä–∞—è —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –∑–∞–¥–∞—á.
/// –¢–∞–∫ –∫–∞–∫ –∑–∞–¥–∞—á–∞ –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∑–∞–¥–∞—á, –∑–Ω–∞—á–∏—Ç –æ–Ω–∞ –±—É–¥–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å
/// –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è, –µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
/// - Parameters:
///   - priority: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–¥–∞—á–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - medium
///   - operation: –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ç–∞—Å–∫–µ
Task(priority: TaskPriority?, operation: () async -> _)
```

**–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**
```swift
final class ViewController: UIViewController {
   
   	@objc
   	private func handleTapOnButton(_ sender: UIButton) {
   		/// –ó–¥–µ—Å—å –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º—ã –º–æ–∂–µ–º –Ω–∞–ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏–Ω–Ω–µ—Ä
   		showLoadingIndicator()
   		/// –ó–¥–µ—Å—å –≤—Å—ë —Ç–∞–∫–∂–µ –≥–ª–∞–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –∏ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å–∫–∞—á–∏–≤–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É
   		fetchImage(by: 1)	
   	}
   
   	func fetchImage(by id: Int) {
   		/// –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∑–∞–¥–∞—á–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–π—Ç–∏
   		/// —Å –≥–ª–∞–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –Ω–∞ –ì–ª–æ–±–∞–ª—å–Ω—ã–π, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –µ–≥–æ
   		let task = Task { 
   			/// –ó–¥–µ—Å—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞–¥–∞—á–∞ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
   		}
   	}
}
```


## –ó–∞–¥–∞—á–∞ —Å —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è
**–°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö —É—Ä–æ–≤–Ω—è Junior-Middle.**

*–ï—Å—Ç—å –¥–≤–∞ —ç–∫—Ä–∞–Ω–∞. –ù–∞ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–∑–µ–Ω—Ç—É–µ—Ç **TaskExampleViewController**. –í –º–µ—Ç–æ–¥–µ **viewDidLoad**, –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—á–µ–Ω—å –¥–æ–ª–≥–∞—è –∑–∞–¥–∞—á–∞. –ù–µ –¥–æ–∂–∏–¥–∞—è—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–∞—Ö–∏–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –≤–Ω–∏–∑.* 

- –ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å?
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫, —Ç–æ –∫–∞–∫ —ç—Ç–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å?

```swift
import UIKit

final class TaskExampleViewController: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        view.backgroundColor = .green
        print("TaskExampleViewController", #function)
        doHardWork()
    }

    override func viewDidDisappear(_ animated: Bool) {
        super.viewDidDisappear(animated)
        print("TaskExampleViewController", #function)
    }

    deinit {
        print("TaskExampleViewController", #function)
    }
    
    private func doHardWork() {
        Task {
            var array = [Int]()
            (0...100_000_000).forEach {
                array.append($0)
            }
            print(array.count)
        }
    }
}
```

**–û—Ç–≤–µ—Ç**

1. –í—ã–≤–µ–¥–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ ***TaskExampleViewController** **viewDidLoad***, –∞ –≤–æ—Ç –¥–∞–ª—å—à–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —Ñ—Ä–∏–∑ UI –≥–ª–∞–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞. –í–µ—Å—å –Ω–∞—à –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏.
2. –ï—Å–ª–∏ –º—ã –ø–æ–ª—É—á–∏–ª–∏ —Ñ—Ä–∏–∑ UI,  –∑–Ω–∞—á–∏—Ç –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ –∑–∞–¥–∞—á–∏ –ø–æ–ø–∞–ª –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –∏ —Å—Ç–∞–ª –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —Ç–µ–º —Å–∞–º—ã–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–≤ –∫–∞–∫–æ–µ-–ª–∏–±–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –∑–∞–¥–∞—á—É. –ò —Ç–æ–≥–¥–∞ –æ–Ω–∞ –Ω–µ –±—É–¥–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –≥–ª–∞–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–µ–¥—É—Ç—Å—è –≤—Å–µ —Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏.

*–ü–æ—Å–ª–µ –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å. –û –∫–∞–∫–æ–º –≥–ª–∞–≤–Ω–æ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ –∏–¥—ë—Ç —Ä–µ—á—å?*

**–£ –Ω–∞—Å –Ω–µ—Ç –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π  –∏ –Ω–∏–≥–¥–µ —è–≤–Ω–æ –Ω–µ —É–∫–∞–∑–∞–Ω –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å.**

## –£–∫–∞–∑–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
### –ö–ª–∞—Å—Å/—Å—Ç—Ä—É–∫—Ç—É—Ä–∞/–ø—Ä–æ—Ç–æ–∫–æ–ª—ã

- **–ì–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å**

–ò–Ω–æ–≥–¥–∞ —É –Ω–∞—Å —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∫–ª–∞—Å—Å—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –ø—Ä–æ—Ç–æ–∫–æ–ª—ã - –≤—Å–µ –º–µ—Ç–æ–¥—ã –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –∏ –ø–æ–º–µ—á–∞—Ç—å –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ —Å –ø–æ–º–æ—â—å—é @MainActor  –Ω–µ —Ö–æ—á–µ—Ç—Å—è, –µ—Å–ª–∏ –º–µ—Ç–æ–¥–æ–≤ –º–Ω–æ–≥–æ - —Ç–æ —ç—Ç–æ –¥–æ–ª–≥–æ. –ü–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –≤–∑—è—Ç—å –∏ –ø–µ—Ä–µ–¥ —Å—É—â–Ω–æ—Å—Ç—å—é –Ω–∞–ø–∏—Å–∞—Ç—å @MainActor - —á—Ç–æ –±—É–¥–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å, —á—Ç–æ **–í–°–ï** –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ –±—É–¥—É—Ç –∏–º–µ—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –≥–ª–∞–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.
```swift
    import UIKit
    
    @MainActor
    final class MyClass { ... }
    
    @MainActor
    struct ScreenState { ... }
    
    @MainActor
    protocol ScreenDisplayLogic { ... } /// –º–µ—Ç–æ–¥—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ—Å—è –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–µ - —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π, –ø–æ—ç—Ç–æ–º—É –∏–º –Ω—É–∂–µ–Ω –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫.
```
**–° —ç—Ç–∏–º –ø–æ–Ω—è—Ç–Ω–æ, –Ω–æ –Ω–∞—à –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∂–µ –Ω–µ –ø–æ–º–µ—á–µ–Ω @MainActor - –æ—Ç–∫—É–¥–∞ —É –Ω–µ–≥–æ –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç?**

*–ó–¥–µ—Å—å —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ –æ—Ç –∫–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –Ω–∞—à –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –∏ –∫–∞–∫–æ–π –º–µ—Ç–æ–¥ –º—ã –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—è–µ–º. –ú—ã –Ω–µ –±—É–¥–µ–º —Å–µ–π—á–∞—Å –≤ —ç—Ç–æ –¥–µ—Ç–∞–ª—å–Ω–æ —É–≥–ª—É–±–ª—è—Ç—å—Å—è - —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç—Ç–æ –≤ —Ç–µ–º–µ Actors.*

- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å**

–ï—Å–ª–∏ –∂–µ –º—ã –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å - —Ç–æ –æ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–µ—Ç **@globalActor**. –ù–æ –ø–∏—Å–∞—Ç—å –µ–≥–æ –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ —Å–º—ã—Å–ª–∞, –ø–æ—ç—Ç–æ–º—É –æ–Ω —Å–∫—Ä—ã—Ç –æ—Ç –≥–ª–∞–∑ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞. 

–ü–æ—ç—Ç–æ–º—É –µ—â—ë –æ–¥–Ω–∏–º –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏–∑ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞–∫–æ–≥–æ-—Ç–æ —Å–µ—Ä–≤–∏—Å–∞. –û–ø–∏—à–µ–º –ª–æ–≥–∏–∫—É –Ω–∏–∂–µ:
```swift
    /// –°–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏
    final class HardWorkService {
        
        func doHardWork() {
            Task {
                var array = [Int]()
                (0...100_000_000).forEach {
                    array.append($0)
                }
                print(array.count)
            }
        }
    }
    
    final class TaskExampleViewController: UIViewController {
    
        let service = HardWorkService()
    
        override func viewDidLoad() {
            super.viewDidLoad()
            view.backgroundColor = .green
            print("TaskExampleViewController", #function)
            doHardWork()
        }
    
        override func viewDidDisappear(_ animated: Bool) {
            super.viewDidDisappear(animated)
            print("TaskExampleViewController", #function)
        }
    
        deinit {
            print("TaskExampleViewController", #function)
        }
        
        private func doHardWork() {
    		    /// –ó–¥–µ—Å—å –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–æ –∫–æ–≥–¥–∞ –º—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–∏—Å—É 
    		    /// –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –µ–≥–æ –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞, —Ç–æ –∫–æ–¥ –º–µ—Ç–æ–¥–∞ —É–∂–µ –±—É–¥–µ—Ç
    		    /// –∏–º–µ—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∫–ª–∞—Å—Å–∞
            service.doHardWork()
        }
    }
    /// –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–∞ —ç–∫—Ä–∞–Ω –≤—ã–≤–µ–¥—É—Ç—å—Å—è –≤—Å–µ 3 –ø—Ä–∏–Ω—Ç–∞
```
- **–°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö Actor.**

–ú—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ Actors –∏ –ø–æ–º–µ—á–∞—Ç—å –∏–º–∏ –∫–ª–∞—Å—Å/—Å—Ç—Ä—É–∫—Ç—É—Ä—ã/–ø—Ä–æ—Ç–æ–∫–æ–ª—ã –∏ –¥—Ä—É–≥–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏. –ù–æ –∫ —ç—Ç–æ–π –∑–∞–¥–∞—á–µ –º—ã –ø–æ–¥–æ–π–¥—ë–º –≤ —Ä–∞–∑–¥–µ–ª–µ Actor

### –§—É–Ω–∫—Ü–∏–∏
–ü–æ–º–∏–º–æ —É–∫–∞–∑–∞–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –Ω–∞–¥ —Å—É—â–Ω–æ—Å—Ç—å—é, –º—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. 
```swift
/// –°–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏
final class HardWorkService {
    
    @MainActor
    func doHardWork() {
        Task {
		        /// –ó–¥–µ—Å—å –±—É–¥–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫
            var array = [Int]()
            (0...100_000_000).forEach {
                array.append($0)
            }
            print(array.count)
        }
    }
}
```
## –ò—Ç–æ–≥
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏, –Ω–∞–º –≤—Å–µ–≥–¥–∞ –≤–∞–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:

- **–ì–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–¥–∞—á–∞?**
- **–ö–∞–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–º–µ–µ—Ç –∫–ª–∞—Å—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è?**
- **–ï—Å—Ç—å –ª–∏ —É –∫–ª–∞—Å—Å–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –∏ –∫–∞–∫–æ–π —É –Ω–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç?**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∑–∞–¥–∞—á–∏ - –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å, —á—Ç–æ **–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∑–∞–¥–∞—á–µ–π –ª–µ–∂–∏—Ç —Ç–µ–ø–µ—Ä—å –Ω–∞ –Ω–∞—Å.** 

**üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**

**–ü—Ä–∏ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã –≤–∞–º –≤–æ–∑–º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ–≤–∞—Ç–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∑–∞–¥–∞—á–∏.** 
**–ü–æ—ç—Ç–æ–º—É –≤ —Ç–µ—á–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è *assert(Thread.isMainThread).***
**–ê—Å—Å–µ—Ä—Ç –¥–∞—Å—Ç —è–≤–Ω–æ –≤–∞–º –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤—ã –≤—ã—à–ª–∏ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ —Ç–∞–º –≥–¥–µ —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ**